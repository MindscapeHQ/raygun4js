(function(n,l){var i={};var c=n.TraceKit;var d=[].slice;var m="?";function a(p,o){return Object.prototype.hasOwnProperty.call(p,o)}function b(o){return typeof o==="undefined"}i.noConflict=function g(){n.TraceKit=c;return i};i.wrap=function k(o){function p(){try{return o.apply(this,arguments)}catch(q){i.report(q);throw q}}return p};i.report=(function h(){var p=[],q=null,r=null;function u(x){p.push(x)}function w(x){for(var y=p.length-1;y>=0;--y){if(p[y]===x){p.splice(y,1)}}}function s(A,B){var x=null;if(B&&!i.collectWindowErrors){return}for(var y in p){if(a(p,y)){try{p[y].apply(null,[A].concat(d.call(arguments,2)))}catch(z){x=z}}}if(x){throw x}}var o=n.onerror;n.onerror=function v(z,B,x){var A=null;if(r){i.computeStackTrace.augmentStackTraceWithInitialElement(r,B,x,z);A=r;r=null;q=null}else{var y={url:B,line:x};y.func=i.computeStackTrace.guessFunctionName(y.url,y.line);y.context=i.computeStackTrace.gatherContext(y.url,y.line);A={mode:"onerror",message:z,url:document.location.href,stack:[y],useragent:navigator.userAgent}}s(A,"from window.onerror");if(o){return o.apply(this,arguments)}return false};function t(y){var x=d.call(arguments,1);if(r){if(q===y){return}else{var z=r;r=null;q=null;s.apply(null,[z,null].concat(x))}}var A=i.computeStackTrace(y);r=A;q=y;n.setTimeout(function(){if(q===y){r=null;q=null;s.apply(null,[A,null].concat(x))}},(A.incomplete?2000:0));throw y}t.subscribe=u;t.unsubscribe=w;return t}());i.computeStackTrace=(function e(){var v=false,F={};function E(J){if(!i.remoteFetching){return""}try{function H(){try{return new n.XMLHttpRequest()}catch(K){return new n.ActiveXObject("Microsoft.XMLHTTP")}}var I=H();I.open("GET",J,false);I.send("");return I.responseText}catch(G){return""}}function C(H){if(!a(F,H)){var G="";if(H.indexOf(document.domain)!==-1){G=E(H)}F[H]=G?G.split("\n"):[]}return F[H]}function D(O,I){var L=/function ([^(]*)\(([^)]*)\)/,M=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,H="",K=10,N=C(O),J;if(!N.length){return m}for(var G=0;G<K;++G){H=N[I-G]+H;if(!b(H)){if((J=M.exec(H))){return J[1]}else{if((J=L.exec(H))){return J[1]}}}}return m}function B(O,J){var M=C(O);if(!M.length){return null}var G=[],L=Math.floor(i.linesOfContext/2),K=L+(i.linesOfContext%2),N=Math.max(0,J-L-1),H=Math.min(M.length,J+K-1);J-=1;for(var I=N;I<H;++I){if(!b(M[I])){G.push(M[I])}}return G.length>0?G:null}function x(G){return G.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function w(G){return x(G).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function A(J,L){var K,I;for(var G=0,H=L.length;G<H;++G){if((K=C(L[G])).length){K=K.join("\n");if((I=J.exec(K))){return{url:L[G],line:K.substring(0,I.index).split("\n").length,column:I.index-K.lastIndexOf("\n",I.index)-1}}}}return null}function z(G,L,H){var K=C(L),J=new RegExp("\\b"+x(G)+"\\b"),I;H-=1;if(K&&K.length>H&&(I=J.exec(K[H]))){return I.index}return null}function y(M){var U=[n.location.href],T=document.getElementsByTagName("script"),H,I=""+M,J=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,L=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,Q,P,R;for(var N=0;N<T.length;++N){var S=T[N];if(S.src){U.push(S.src)}}if(!(P=J.exec(I))){Q=new RegExp(x(I).replace(/\s+/g,"\\s+"))}else{var O=P[1]?"\\s+"+P[1]:"",G=P[2].split(",").join("\\s*,\\s*");H=x(P[3]).replace(/;$/,";?");Q=new RegExp("function"+O+"\\s*\\(\\s*"+G+"\\s*\\)\\s*{\\s*"+H+"\\s*}")}if((R=A(Q,U))){return R}if((P=L.exec(I))){var K=P[1];H=w(P[2]);Q=new RegExp("on"+K+"=[\\'\"]\\s*"+H+"\\s*[\\'\"]","i");if((R=A(Q,U[0]))){return R}Q=new RegExp(H);if((R=A(Q,U))){return R}}return null}function s(I){if(!I.stack){return null}var G=/^\s*at (?:((?:\[object object\])?\S+) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,J=/^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,M=I.stack.split("\n"),P=[],N,H,O=/^(.*) is undefined$/.exec(I.message);for(var K=0,L=M.length;K<L;++K){if((N=J.exec(M[K]))){H={url:N[3],func:N[1]||m,args:N[2]?N[2].split(","):"",line:+N[4],column:N[5]?+N[5]:null}}else{if((N=G.exec(M[K]))){H={url:N[2],func:N[1]||m,line:+N[3],column:N[4]?+N[4]:null}}else{continue}}if(!H.func&&H.line){H.func=D(H.url,H.line)}if(H.line){H.context=B(H.url,H.line)}P.push(H)}if(P[0]&&P[0].line&&!P[0].column&&O){P[0].column=z(O[1],P[0].url,P[0].line)}if(!P.length){return null}return{mode:"stack",name:I.name,message:I.message,url:document.location.href,stack:P,useragent:navigator.userAgent}}function t(H){var O=H.stacktrace;var P=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,L=O.split("\n"),N=[],M;for(var J=0,K=L.length;J<K;J+=2){if((M=P.exec(L[J]))){var G={line:+M[1],column:+M[2],func:M[3]||M[4],args:M[5]?M[5].split(","):[],url:M[6]};if(!G.func&&G.line){G.func=D(G.url,G.line)}if(G.line){try{G.context=B(G.url,G.line)}catch(I){}}if(!G.context){G.context=[L[J+1]]}N.push(G)}}if(!N.length){return null}return{mode:"stacktrace",name:H.name,message:H.message,url:document.location.href,stack:N,useragent:navigator.userAgent}}function r(H){var Q=H.message.split("\n");if(Q.length<4){return null}var N=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,O=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,P=/^\s*Line (\d+) of function script\s*$/i,Z=[],X=document.getElementsByTagName("script"),J=[],S,I,L,Y;for(I in X){if(a(X,I)&&!X[I].src){J.push(X[I])}}for(I=2,L=Q.length;I<L;I+=2){var K=null;if((S=N.exec(Q[I]))){K={url:S[2],func:S[3],line:+S[1]}}else{if((S=O.exec(Q[I]))){K={url:S[3],func:S[4]};var V=(+S[1]);var W=J[S[2]-1];if(W){Y=C(K.url);if(Y){Y=Y.join("\n");var T=Y.indexOf(W.innerText);if(T>=0){K.line=V+Y.substring(0,T).split("\n").length}}}}else{if((S=P.exec(Q[I]))){var aa=n.location.href.replace(/#.*$/,""),M=S[1];var U=new RegExp(w(Q[I+1]));Y=A(U,[aa]);K={url:aa,line:Y?Y.line:M,func:""}}}}if(K){if(!K.func){K.func=D(K.url,K.line)}var G=B(K.url,K.line);var R=(G?G[Math.floor(G.length/2)]:null);if(G&&R.replace(/^\s*/,"")===Q[I+1].replace(/^\s*/,"")){K.context=G}else{K.context=[Q[I+1]]}Z.push(K)}}if(!Z.length){return null}return{mode:"multiline",name:H.name,message:Q[0],url:document.location.href,stack:Z,useragent:navigator.userAgent}}function o(K,L,H,I){var G={url:L,line:H};if(G.url&&G.line){K.incomplete=false;if(!G.func){G.func=D(G.url,G.line)}if(!G.context){G.context=B(G.url,G.line)}var J=/ '([^']+)' /.exec(I);if(J){G.column=z(J[1],G.url,G.line)}if(K.stack.length>0){if(K.stack[0].url===G.url){if(K.stack[0].line===G.line){return false}else{if(!K.stack[0].line&&K.stack[0].func===G.func){K.stack[0].line=G.line;K.stack[0].context=G.context;return false}}}}K.stack.unshift(G);K.partial=true;return true}else{K.incomplete=true}return false}function q(I,H){var K=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,R=[],J={},N=false,M,L,Q;for(var G=q.caller;G&&!N;G=G.caller){if(G===p||G===i.report){continue}L={url:null,func:m,line:null,column:null};if(G.name){L.func=G.name}else{if((M=K.exec(G.toString()))){L.func=M[1]}}if((Q=y(G))){L.url=Q.url;L.line=Q.line;if(L.func===m){L.func=D(L.url,L.line)}var O=/ '([^']+)' /.exec(I.message||I.description);if(O){L.column=z(O[1],Q.url,Q.line)}}if(J[""+G]){N=true}else{J[""+G]=true}R.push(L)}if(H){R.splice(0,H)}var P={mode:"callers",name:I.name,message:I.message,url:document.location.href,stack:R,useragent:navigator.userAgent};o(P,I.sourceURL||I.fileName,I.line||I.lineNumber,I.message||I.description);return P}function p(I,G){var J=null;G=(G==null?0:+G);try{J=t(I);if(J){return J}}catch(H){if(v){throw H}}try{J=s(I);if(J){return J}}catch(H){if(v){throw H}}try{J=r(I);if(J){return J}}catch(H){if(v){throw H}}try{J=q(I,G+1);if(J){return J}}catch(H){if(v){throw H}}return{mode:"failed"}}function u(G){G=(G==null?0:+G)+1;try{throw new Error()}catch(H){return p(H,G+1)}return null}p.augmentStackTraceWithInitialElement=o;p.guessFunctionName=D;p.gatherContext=B;p.ofCaller=u;return p}());(function f(){var o=function o(p){var q=n[p];n[p]=function r(){var s=d.call(arguments);var t=s[0];if(typeof(t)==="function"){s[0]=i.wrap(t)}if(q.apply){return q.apply(this,s)}else{return q(s[0],s[1])}}};o("setTimeout");o("setInterval")}());(function j(o){if(!o){return}var q=o.event.add;o.event.add=function t(x,A,y,w,z){var v;if(y.handler){v=y.handler;y.handler=i.wrap(y.handler)}else{v=y;y=i.wrap(y)}if(v.guid){y.guid=v.guid}else{y.guid=v.guid=o.guid++}return q.call(this,x,A,y,w,z)};var r=o.fn.ready;o.fn.ready=function u(v){return r.call(this,i.wrap(v))};var p=o.ajax;o.ajax=function s(y){var x=["complete","error","success"],w;while(w=x.pop()){if(o.isFunction(y[w])){y[w]=i.wrap(y[w])}}try{return p.call(this,y)}catch(v){i.report(v);throw v}}}(n.jQuery));if(!i.remoteFetching){i.remoteFetching=true}if(!i.collectWindowErrors){i.collectWindowErrors=true}if(!i.linesOfContext||i.linesOfContext<1){i.linesOfContext=11}n.TraceKit=i}(window));(function(j){var d=TraceKit.noConflict(),b=j.Raygun,c,a=false;var h={noConflict:function(){j.Raygun=b;return h},init:function(k,l){c=k;d.remoteFetching=false;if(l){if(l.debugMode){a=l.debugMode}}return h},attach:function(){if(!f()){return}d.report.subscribe(g);return h},detach:function(){d.report.unsubscribe(g);return h},send:function(k){try{d.report(k,{})}catch(l){if(k!==l){throw l}}return h}};function f(){if(c&&c!==""){return true}if(j.console&&console.error){console.error("Raygun API key has not been configured, make sure you call Raygun.init(yourApiKey)")}return false}function e(m,k){for(var l=0;l<m.length;l++){k.call(null,l,m[l])}}function g(n,k){var m=[],l={};if(n.stack&&n.stack.length){e(n.stack,function(p,o){m.push({LineNumber:o.line,ClassName:"line "+o.line+", column "+o.column,FileName:o.url,MethodName:o.func||"[anonymous]"})})}if(j.location.search&&j.location.search.length>1){e(j.location.search.substring(1).split("&"),function(o,q){var p=q.split("=");if(p&&p.length==2){l[decodeURIComponent(p[0])]=p[1]}})}i({OccurredOn:new Date(),Details:{Error:{ClassName:n.name,Message:n.message||"Script error",StackTrace:m},Environment:{},Client:{Name:"raygun-js",Version:"1.0.0"},UserCustomData:k,Request:{Url:document.location.href,QueryString:l}}})}function i(k){if(!f()){return}if(j.console&&console.log&&a){console.log("Sending exception data to Raygun:",k)}var l=new Image(1,1);l.src="https://api.raygun.io/entries?apikey="+encodeURIComponent(c)+"&payload="+encodeURIComponent(JSON.stringify(k))}j.Raygun=h})(window);